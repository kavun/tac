/*!
 * tac - tic tac toe
 * @author Kevin Reed
 * @version v1.0.0
 * @link https://kavun.github.io/tac
 * @license MIT
 */
!function t(e,r,n){function i(s,u){if(!r[s]){if(!e[s]){var a="function"==typeof require&&require;if(!u&&a)return a(s,!0);if(o)return o(s,!0);throw new Error("Cannot find module '"+s+"'")}var c=r[s]={exports:{}};e[s][0].call(c.exports,function(t){var r=e[s][1][t];return i(r?r:t)},c,c.exports,t,e,r,n)}return r[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(t){!function(){"use strict";var e=t("./tac.js");new e({board:"#board",score:"#score"})}()},{"./tac.js":4}],2:[function(t,e){e.exports=function(t){"use strict";t.matchesSelector=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector||function(t){for(var e=this,r=(e.parentNode||e.document).querySelectorAll(t),n=-1;r[++n]&&r[n]!=e;);return!!r[n]}}},{}],3:[function(t,e){!function(){"use strict";function t(e,r,n,i){var o=!0;"function"==typeof n&&(i=n,n=e,o=!1);var s=document.querySelector(e);Array.isArray(r)||(r=[r]);for(var u=o?t.delegate(n,i):i,a=0,c=r.length;c>a;a++)s.addEventListener(r[a],u)}t.delegate=function(t,e){return function(r){r.target.matchesSelector(t)&&e.call(this,r)}},e.exports=t}()},{}],4:[function(t,e){!function(){"use strict";function r(){return Array.apply(null,new Array(9)).map(function(){return!1})}function n(t){var e=t.getAttribute("data-state");return"x"===e||"o"===e?!0:void 0}function i(t){return t}function o(){for(var t=1;t<arguments.length;t++)for(var e in arguments[t])arguments[t].hasOwnProperty(e)&&arguments[t][e]===!0&&(arguments[0][e]=arguments[t][e]);return arguments[0]}function s(t){var e=document.querySelector(t.board),s=document.querySelector(t.score),d=function(r){if("end"===e.getAttribute("data-state"))return void this.resetBoard();if(!r.target.matchesSelector(t.score)){var n=parseInt(r.target.getAttribute("data-pos"),10);v(r.target,n)&&(m()?l():p()?f():b())}}.bind(this),f=function(){s.innerHTML="tie",h()}.bind(this),l=function(){s.innerHTML=this.nextTurn+" wins",h()}.bind(this),h=function(){s.style.display="",e.setAttribute("data-state","end")},m=function(){var t=this.boards[this.nextTurn];return a.indices.some(function(e){return e.reduce(function(e,r){return e+(t[r]?a.square[r]:0)},0)===a.sum})}.bind(this),p=function(){return o(r(),this.boards.x,this.boards.o).every(i)}.bind(this),b=function(){this.nextTurn="x"===this.nextTurn?"o":"x"}.bind(this),v=function(t,e){return n(t)?!1:(t.setAttribute("data-state",this.nextTurn),this.boards[this.nextTurn][e]=!0,!0)}.bind(this);this.resetBoard=function(){e.setAttribute("data-state","start"),s.style.display="none",c(document.querySelectorAll(".tic")).forEach(function(t){t.setAttribute("data-state","")}),this.boards={x:r(),o:r()},this.nextTurn="x"};var y=function(){for(;e.firstChild;)e.removeChild(e.firstChild);for(var t=0,r=9;r>t;t++){var n=document.createElement("div");n.className="tic",n.setAttribute("data-pos",t),e.appendChild(n)}};y(),u(t.board,["click"],".tic",d),u(t.score,"click",d),this.resetBoard()}t("./matchesSelector.js")(window.Element.prototype);var u=t("./on.js"),a={square:[8,1,6,3,5,7,4,9,2],indices:[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[2,4,6],[0,4,8]],sum:15},c=Function.prototype.call.bind(Array.prototype.slice);e.exports=s}(window)},{"./matchesSelector.js":2,"./on.js":3}]},{},[1]);